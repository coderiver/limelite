"use strict";$(function(){function a(){for(l.clearRect(0,0,i,j),d=0;d<m.length;d++)m[d].fade(),m[d].move(),m[d].draw()}function b(){this.s={ttl:1e8,xmax:3,ymax:2,rmax:200,rt:1,xdef:960,ydef:540,xdrift:2,ydrift:2,random:!0,blink:!0};var a=[["rgba(255,255,255,0)","rgba(255,255,225,1)"]],b="."+Math.floor(5*Math.random())+1;this.reset=function(){this.x=this.s.random?i*Math.random():this.s.xdef,this.y=this.s.random?j*Math.random():this.s.ydef,this.r=(this.s.rmax-1)*Math.random()+20,this.dx=Math.random()*this.s.xmax*(Math.random()<.5?-1:1),this.dy=Math.random()*this.s.ymax*(Math.random()<.5?-1:1),this.hl=this.s.ttl/n*(this.r/this.s.rmax),this.rt=Math.random()*this.hl,this.s.rt=Math.random()+1,this.stop=.2*Math.random()+.4,this.s.xdrift*=Math.random()*(Math.random()<.5?-1:1),this.s.ydrift*=Math.random()*(Math.random()<.5?-1:1),this.opacityFill=b,this.currentColor=Math.floor(Math.random()*a.length)},this.fade=function(){this.rt+=this.s.rt},this.draw=function(){this.s.blink&&(this.rt<=0||this.rt>=this.hl)?this.s.rt=-1*this.s.rt:this.rt>=this.hl&&this.reset(),l.beginPath(),l.arc(this.x,this.y,this.r,0,2*Math.PI,!0),l.globalAlpha=b;var c=1-this.rt/this.hl,d=this.r*c,e=l.createRadialGradient(this.x,this.y,0,this.x,this.y,0>=d?1:d);e.addColorStop(0,a[this.currentColor][1]),e.addColorStop(.7,a[this.currentColor][1]),e.addColorStop(1,a[this.currentColor][0]),l.fillStyle=e,l.fill(),l.closePath()},this.move=function(){this.x+=this.rt/this.hl*this.dx,this.y+=this.rt/this.hl*this.dy,(this.x>i||this.x<0)&&(this.dx*=-1),(this.y>j||this.y<0)&&(this.dy*=-1)},this.getX=function(){return this.x},this.getY=function(){return this.y}}function c(){new Snap(g).animate({transform:(new Snap.Matrix).translate(0,-30),"fill-opacity":1},250,mina.easein,function(){new Snap(f.filter(function(a,b){return b%2!==0})).animate({"fill-opacity":0},250,mina.easein,function(){new Snap(g).animate({transform:(new Snap.Matrix).translate(0,-265)},500,mina.easein,function(){new Snap(f).animate({transform:(new Snap.Matrix).translate(0,-265)},500,mina.easein,function(){}),$("#limelitesvg").animate({top:-(2*$("#limelitesvg").offset().top-160)},1e3,function(){$("#limelitesvg").css({top:"80px",bottom:"inherit"}).wrap("<div class='limelite-fixed'></div>"),$(".landing").animate({opacity:1},500),$(".landing-showreel").animate({top:"5%"},1e3,"easeInOutCirc")})})})})}var d,e=new Snap("#limelitesvg"),f=[],g=[],h=["M364.738,294.949h18.385v-4.828H369.9v-24.554h-5.162V294.949z","M396.718,294.949h5.162v-29.382h-5.162V294.949z","M421.717,294.949 v-18.704l9.098,7.835l8.678-7.794v18.662h5.141v-29.952l-13.818,11.963l-14.28-11.963v29.952H421.717z","M464.845,290.121v-7.596h10.576v-4.828h-10.576v-7.587h11.836v-4.827h-16.998v29.666h17.418 v-4.828H464.845z","M492.335,265.567h5.165v24.554h13.218v4.828h-18.383V265.567z","M524.316,294.949h5.163v-29.382h-5.163V294.949z","M555.908,270.358v24.645 h5.182v-29.488h-18.381v4.843H555.908z","M581.005,290.121v-7.596h10.577v-4.828h-10.577v-7.587h11.835v-4.827h-16.996v29.666h17.418v-4.828H581.005z"],i=1.5*window.innerWidth,j=1.5*window.innerHeight,k=$("#dynamic-bg")[0],l=k.getContext("2d"),m=[],n=60;for(k.width=i,k.height=j,k.style.webkitFilter="blur(15px)",k.style.msFilter="blur(15px)",k.style.filter="blur(15px)",d=0;20>d;d++)m[d]=new b,m[d].reset();if(setInterval(a,n),$(window).mousemove(function(a){$("#dynamic-bg").css({top:a.clientY/4-$("#dynamic-bg").height()/8+"px",left:a.clientX/4-$("#dynamic-bg").width()/8+"px"})}),window.addEventListener("message",function(){},!1),$(".menu-toggle").click(function(){$(".menu-bg").stop(),$(this).toggleClass("menu-x"),$(".menu-list").toggleClass("hide"),$(this).hasClass("menu-x")?$(".menu-bg").removeClass("hide").animate({opacity:1},1e3):$(".menu-bg").animate({opacity:0},1e3,function(){$(".menu-bg").addClass("hide")})}),$("#show-map").click(function(a){a.preventDefault(),$("#mapbox").slideDown("fast",function(){$("html, body").animate({scrollTop:$("#mapbox").offset().top+"px"})})}),$("#limelitesvg").length){var o=0;for(d=0;d<h.length;d++)f.push(e.path(h[d]).attr({fill:"#fff","fill-opacity":0,transform:(new Snap.Matrix).translate(0,265)})),d%2!==0&&(g[o]=f[d].clone(),g[o].transform((new Snap.Matrix).translate(0,0)),o++);new Snap(f.filter(function(a,b){return b%2!==0})).animate({transform:(new Snap.Matrix).translate(0,0),"fill-opacity":1},500,mina.easein),new Snap(f.filter(function(a,b){return b%2===0})).animate({transform:(new Snap.Matrix).translate(0,0),"fill-opacity":1},1e3,mina.easein,c)}$(".work").length&&$(".work-item").each(function(a){$(this).delay(1e3*a).queue(function(a){$(this).animate({opacity:1},2e3),a()})}),$(".shooting").length&&($("h1").animate({opacity:1},1e3),$(".shooting img").sort(function(){return Math.round(Math.random())-.5}).each(function(a){$(this).delay(250*a).queue(function(a){$(this).animate({opacity:1},2e3),a()})})),$("").mouseenter(function(){$(this)[0].play()}),$(".team").length&&$(".team-item-holder").mouseenter(function(){$(this).find(".team-item-video").length&&$(this).find(".team-item-video")[0].play()})});